#my-rides
  .row
    .col-md-4.col-md-offset-4.text-center
      %h1
        %strong  
          My Trips
  .row
    .col-md-8.col-md-offset-2.col-xs-12
      .btn.btn-link{ng:{click:'showTab="future"'}}
        Upcoming ({{trips.future.length}})
      .btn.btn-link{ng:{click:'showTab="past"'}}
        History ({{trips.past.length}})
      %tabset 
        %tab{'heading' => 'Upcoming ({{trips.future.length}})', 'active' => 'tabFuture', "ng-show":'showTab!=="past"'}
          %h3 Upcoming rides
          .bordered.myride{'index' => '{{$index}}', ng: {init: 'tab = "future"', click: 'trip.showMoreDetails = !trip.showMoreDetails', repeat: 'trip in trips.future'}}
            .row
              .col-xs-2.col-height-slave
                %img.ride-mode-service-icon{style:'vertical-align:bottom;', ng:{src:'{{trip.mode | modeIcon: trip.logo_url}}'}}
              .col-xs-10.col-height-master
                .row
                  .col-xs-12
                    %h4 {{trip.from_place}} to {{trip.to_place}}
                .row
                  .col-xs-8
                    %h5.blue-text{"ng-show"=>"trip.service_name"} {{trip.service_name}}
                .row
                  .col-xs-8
                    %h5.blue-text {{trip.startDesc}}
                  .col-xs-4
                    %h5.text-muted.text-right{ng: {show: 'trip.itineraries.length > 1'}} (round trip)
                    %h5.text-muted.text-right{ng: {show: 'trip.itineraries.length == 1'}} (one way)  
        %tab{'heading' => 'History ({{trips.past.length}})', 'active' => 'tabPast', "ng-show":'showTab==="past"'}
          %h3 Past rides
          .bordered.myride{'index' => '{{$index}}', ng: {init: 'tab = "past"', repeat: 'trip in trips.past'}}
            .row
              .col-xs-2.col-height-slave
                %img.ride-mode-service-icon{style:'vertical-align:bottom;', ng:{src:'{{trip.mode | modeIcon: trip.logo_url}}'}}
              .col-xs-10.col-height-master
                .row
                  .col-xs-9
                    %h4 {{trip.from_place}} to {{trip.to_place}}
                  .col-xs-3
                    .btn.btn-block{ng:{class:'{"btn-primary":!trip.showMoreDetails, "btn-bordered":trip.showMoreDetails}', click: 'trip.showMoreDetails = !trip.showMoreDetails'}}
                      %span{'ng-show'=>'trip.showMoreDetails'}
                        Hide
                      %span{'ng-hide'=>'trip.showMoreDetails'}
                        Show 
                      trip details 
                .row
                  .col-xs-8
                    %h5.blue-text{"ng-show"=>"trip.service_name"} {{trip.service_name}}
                .row
                  .col-xs-8
                    %h5.blue-text {{trip.startDesc}}
                  .col-xs-4
                    %h5.text-muted.text-right{ng: {show: 'trip.itineraries.length > 1'}} (round trip)
                    %h5.text-muted.text-right{ng: {show: 'trip.itineraries.length == 1'}} (one way)
            .animate-show{ng: {show: 'trip.showMoreDetails', include:"'/views/myrides-itinerary.html'"}}
      .row.btn-spacing
        .col-md-4.col-md-offset-4.col-xs-12.text-center
          %a.btn.btn-primary.btn-block{href: '', ng: {click: 'reset()'}}
            Plan a new trip
