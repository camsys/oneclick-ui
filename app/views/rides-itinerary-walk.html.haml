.row
  .col-md-12{ng:{controller:"TransitController"}}
    .row
      .col-xs-6
        %h1 {{'directions' | translate}}
        .transit-details{ng: {repeat: 'leg in itinerary.json_legs track by $index', 
              class: '{"mode_car": leg.mode == "CAR", "mode_bicycle": leg.mode == "BICYCLE","mode_bus": leg.mode == "BUS", "mode_walk": leg.mode == "WALK", "mode_tram": leg.mode == "TRAM" || leg.mode == "RAIL"}'}}
          .row.even-height-row
            .col-xs-1
              %img{"ng-src"=>"{{leg.mode | modeIcon}}"}
            .col-xs-3.text-center
              .walk-info
                {{leg.duration | seconds}}
            .col-xs-8
              .walk-info{ng: {show: 'leg.mode == "WALK"'}}
                .first
                  Start {{itinerary.start_location.formatted_address | noCountry}}
                .steps{ng:{repeat:'step in leg.steps track by step.lon'}}
                  .first-step{ng:{show:'$first'}}
                    Depart {{step.streetName}}, go {{step.absoluteDirection}} for {{step.distance | distance}}
                  .step{ng:{hide:'$first'}}
                    %span{style:'text-transform: capitalize;'} {{step.relativeDirection }}
                    on {{step.streetName}} ({{step.absoluteDirection}}), go {{step.distance | distance}}

      .col-xs-6
        .map-canvas{:style => "height: 40em", "ui-map" => "routeMap", "ui-options" => "mapOptions"}

